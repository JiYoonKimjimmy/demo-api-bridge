# ν”„λ΅μ νΈ κµ¬μ΅° λ¬Έμ„

## π“ μ „μ²΄ λ””λ ‰ν† λ¦¬ κµ¬μ΅°

```
demo-api-bridge/
β”β”€β”€ cmd/                          # μ• ν”λ¦¬μΌ€μ΄μ… μ§„μ…μ 
β”‚   β””β”€β”€ api-bridge/
β”‚       β””β”€β”€ main.go              # λ©”μΈ μ• ν”λ¦¬μΌ€μ΄μ…
β”‚
β”β”€β”€ internal/                     # λ‚΄λ¶€ μ• ν”λ¦¬μΌ€μ΄μ… μ½”λ“
β”‚   β”β”€β”€ adapter/                 # μ–΄λ‘ν„° λ μ΄μ–΄
β”‚   β”‚   β”β”€β”€ inbound/            # μΈλ°”μ΄λ“ μ–΄λ‘ν„° (μ™Έλ¶€ β†’ λ‚΄λ¶€)
β”‚   β”‚   β”‚   β””β”€β”€ http/           # HTTP API ν•Έλ“¤λ¬
β”‚   β”‚   β”‚       β”β”€β”€ handler.go  # μ”μ²­ ν•Έλ“¤λ¬
β”‚   β”‚   β”‚       β”β”€β”€ middleware.go # λ―Έλ“¤μ›¨μ–΄
β”‚   β”‚   β”‚       β””β”€β”€ dto.go      # DTO (Data Transfer Object)
β”‚   β”‚   β”‚
β”‚   β”‚   β””β”€β”€ outbound/           # μ•„μ›ƒλ°”μ΄λ“ μ–΄λ‘ν„° (λ‚΄λ¶€ β†’ μ™Έλ¶€)
β”‚   β”‚       β”β”€β”€ httpclient/     # μ™Έλ¶€ API ν΄λΌμ΄μ–ΈνΈ
β”‚   β”‚       β”‚   β”β”€β”€ client.go   # HTTP ν΄λΌμ΄μ–ΈνΈ κµ¬ν„
β”‚   β”‚       β”‚   β””β”€β”€ mapper.go   # μ‘λ‹µ λ§¤ν•‘
β”‚   β”‚       β”‚
β”‚   β”‚       β”β”€β”€ database/       # λ°μ΄ν„°λ² μ΄μ¤ μ–΄λ‘ν„°
β”‚   β”‚       β”‚   β”β”€β”€ oracle.go   # Oracle DB μ—°κ²°
β”‚   β”‚       β”‚   β”β”€β”€ repository.go # λ ν¬μ§€ν† λ¦¬ κµ¬ν„
β”‚   β”‚       β”‚   β””β”€β”€ mapper.go   # DB μ—”ν‹°ν‹° λ§¤ν•‘
β”‚   β”‚       β”‚
β”‚   β”‚       β””β”€β”€ cache/          # μΊμ‹ μ–΄λ‘ν„°
β”‚   β”‚           β”β”€β”€ redis.go    # Redis μ—°κ²°
β”‚   β”‚           β””β”€β”€ cache.go    # μΊμ‹ λ ν¬μ§€ν† λ¦¬ κµ¬ν„
β”‚   β”‚
β”‚   β””β”€β”€ core/                    # ν•µμ‹¬ λΉ„μ¦λ‹μ¤ λ΅μ§ (μμ΅΄μ„± μ—†μ)
β”‚       β”β”€β”€ domain/              # λ„λ©”μΈ λ¨λΈ
β”‚       β”‚   β”β”€β”€ entity.go       # λΉ„μ¦λ‹μ¤ μ—”ν‹°ν‹°
β”‚       β”‚   β”β”€β”€ value_object.go # κ°’ κ°μ²΄
β”‚       β”‚   β””β”€β”€ error.go        # λ„λ©”μΈ μ—λ¬
β”‚       β”‚
β”‚       β”β”€β”€ port/                # ν¬νΈ μΈν„°νμ΄μ¤
β”‚       β”‚   β”β”€β”€ inbound.go      # μΈλ°”μ΄λ“ ν¬νΈ (μ μ¦μΌ€μ΄μ¤)
β”‚       β”‚   β””β”€β”€ outbound.go     # μ•„μ›ƒλ°”μ΄λ“ ν¬νΈ (λ ν¬μ§€ν† λ¦¬)
β”‚       β”‚
β”‚       β””β”€β”€ service/             # λΉ„μ¦λ‹μ¤ λ΅μ§ μ„λΉ„μ¤
β”‚           β”β”€β”€ service.go      # μ„λΉ„μ¤ κµ¬ν„
β”‚           β””β”€β”€ service_test.go # μ„λΉ„μ¤ ν…μ¤νΈ
β”‚
β”β”€β”€ pkg/                         # κ³µμ© ν¨ν‚¤μ§€ (λ‹¤λ¥Έ ν”„λ΅μ νΈμ—μ„λ„ μ‚¬μ© κ°€λ¥)
β”‚   β”β”€β”€ logger/                  # λ΅κΉ… μ ν‹Έλ¦¬ν‹°
β”‚   β”‚   β”β”€β”€ logger.go           # λ΅κ±° μΈν„°νμ΄μ¤ λ° κµ¬ν„
β”‚   β”‚   β””β”€β”€ zap.go              # Zap λ΅κ±° λνΌ
β”‚   β”‚
β”‚   β””β”€β”€ metrics/                 # λ©”νΈλ¦­ μμ§‘
β”‚       β”β”€β”€ metrics.go          # λ©”νΈλ¦­ μΈν„°νμ΄μ¤
β”‚       β””β”€β”€ prometheus.go       # Prometheus λ©”νΈλ¦­
β”‚
β”β”€β”€ config/                      # μ„¤μ • νμΌ
β”‚   β”β”€β”€ config.example.yaml     # μ„¤μ • νμΌ μμ‹
β”‚   β””β”€β”€ config.yaml             # μ‹¤μ  μ„¤μ • (gitμ—μ„ μ μ™Έ)
β”‚
β”β”€β”€ docs/                        # λ¬Έμ„
β”‚   β”β”€β”€ HEXAGONAL_ARCHITECTURE.md
β”‚   β”β”€β”€ IMPLEMENTATION_GUIDE.md
β”‚   β”β”€β”€ DEPLOYMENT_GUIDE.md
β”‚   β”β”€β”€ GOLANG_SETUP_GUIDE.md
β”‚   β”β”€β”€ FRAMEWORK_COMPARISON.md
β”‚   β”β”€β”€ DEPLOYMENT_PLAN.md
β”‚   β””β”€β”€ PROJECT_STRUCTURE.md    # μ΄ λ¬Έμ„
β”‚
β”β”€β”€ scripts/                     # μ ν‹Έλ¦¬ν‹° μ¤ν¬λ¦½νΈ
β”‚   β”β”€β”€ build.ps1               # λΉλ“ μ¤ν¬λ¦½νΈ
β”‚   β”β”€β”€ run.ps1                 # μ‹¤ν–‰ μ¤ν¬λ¦½νΈ
β”‚   β””β”€β”€ test.ps1                # ν…μ¤νΈ μ¤ν¬λ¦½νΈ
β”‚
β”β”€β”€ test/                        # ν†µν•© ν…μ¤νΈ
β”‚   β”β”€β”€ integration/            # ν†µν•© ν…μ¤νΈ
β”‚   β””β”€β”€ e2e/                    # E2E ν…μ¤νΈ
β”‚
β”β”€β”€ .gitignore                   # Git μ μ™Έ νμΌ μ„¤μ •
β”β”€β”€ .air.toml                    # Air (ν•« λ¦¬λ΅λ“) μ„¤μ •
β”β”€β”€ go.mod                       # Go λ¨λ“ μ •μ
β”β”€β”€ go.sum                       # μμ΅΄μ„± μ²΄ν¬μ„¬
β”β”€β”€ Makefile                     # Make λ…λ Ήμ–΄ μ •μ
β””β”€β”€ README.md                    # ν”„λ΅μ νΈ μ†κ°
```

## π—οΈ μ•„ν‚¤ν…μ² λ μ΄μ–΄ μ„¤λ…

### 1. Core (ν•µμ‹¬ λ μ΄μ–΄)

**μ„μΉ**: `internal/core/`

**νΉμ§•**:
- μ™Έλ¶€ μμ΅΄μ„±μ΄ **μ „ν€ μ—†μ**
- μμν• λΉ„μ¦λ‹μ¤ λ΅μ§λ§ ν¬ν•¨
- ν…μ¤νΈκ°€ κ°€μ¥ μ‰¬μ›€
- κ°€μ¥ μ•μ •μ μΈ λ μ΄μ–΄

**κµ¬μ„± μ”μ†**:
- **Domain**: λΉ„μ¦λ‹μ¤ μ—”ν‹°ν‹°μ™€ κ·μΉ™
- **Port**: μΈν„°νμ΄μ¤ μ •μ (μμ΅΄μ„± μ—­μ „)
- **Service**: λΉ„μ¦λ‹μ¤ λ΅μ§ κµ¬ν„

### 2. Adapter (μ–΄λ‘ν„° λ μ΄μ–΄)

**μ„μΉ**: `internal/adapter/`

**νΉμ§•**:
- Coreλ¥Ό μ™Έλ¶€ μ„Έκ³„μ™€ μ—°κ²°
- κΈ°μ  κµ¬ν„ μ„Έλ¶€μ‚¬ν•­ ν¬ν•¨
- κµμ²΄ κ°€λ¥ν• κµ¬μ΅°

#### 2.1 Inbound Adapter (μΈλ°”μ΄λ“ μ–΄λ‘ν„°)

**μ—­ν• **: μ™Έλ¶€ μ”μ²­ β†’ μ• ν”λ¦¬μΌ€μ΄μ… λ‚΄λ¶€

**μμ‹**:
- HTTP REST API Handler
- gRPC Handler
- GraphQL Resolver
- Message Queue Consumer

**μ„μΉ**: `internal/adapter/inbound/http/`

#### 2.2 Outbound Adapter (μ•„μ›ƒλ°”μ΄λ“ μ–΄λ‘ν„°)

**μ—­ν• **: μ• ν”λ¦¬μΌ€μ΄μ… λ‚΄λ¶€ β†’ μ™Έλ¶€ μ‹μ¤ν…

**μμ‹**:
- Database Repository
- External API Client
- Cache Client
- Message Queue Producer

**μ„μΉ**: `internal/adapter/outbound/{httpclient,database,cache}/`

### 3. Pkg (κ³µμ© ν¨ν‚¤μ§€)

**μ„μΉ**: `pkg/`

**νΉμ§•**:
- λ‹¤λ¥Έ ν”„λ΅μ νΈμ—μ„λ„ μ¬μ‚¬μ© κ°€λ¥
- λΉ„μ¦λ‹μ¤ λ΅μ§κ³Ό λ¬΄κ΄€ν• μ ν‹Έλ¦¬ν‹°
- μ™Έλ¶€μ— κ³µκ° κ°€λ¥ν• μ½”λ“

**κµ¬μ„± μ”μ†**:
- Logger: κµ¬μ΅°ν™”λ λ΅κΉ…
- Metrics: μ„±λ¥ λ¨λ‹ν„°λ§
- Utils: κ³µμ© μ ν‹Έλ¦¬ν‹° ν•¨μ

## π“¦ μμ΅΄μ„± νλ¦„

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚          Inbound Adapter (HTTP)             β”‚
β”‚        (μ™Έλ¶€ μ”μ²­μ„ λ°›μ•„ μ²λ¦¬)                 β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                 β”‚ depends on
                 β†“
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚              Core (Service)                 β”‚
β”‚         (λΉ„μ¦λ‹μ¤ λ΅μ§ μ‹¤ν–‰)                   β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                 β”‚ depends on (interface)
                 β†“
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚          Outbound Adapter (DB, API)         β”‚
β”‚    (μ™Έλ¶€ μ‹μ¤ν…κ³Ό ν†µμ‹ ν•μ—¬ λ°μ΄ν„° μ²λ¦¬)          β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

**ν•µμ‹¬ μ›μΉ™**:
- Coreλ” **μ–΄λ–¤ κ²ƒμ—λ„ μμ΅΄ν•μ§€ μ•μ**
- Adapterλ” Coreμ— μμ΅΄
- μμ΅΄μ„±μ€ ν•­μƒ **λ‚΄λ¶€(Core)λ¥Ό ν–¥ν•¨**

## π”„ λ°μ΄ν„° νλ¦„ μμ‹

### μ‚¬μ©μ μ”μ²­ μ²λ¦¬ νλ¦„

```
1. HTTP Request
   β†“
2. [HTTP Handler] (Inbound Adapter)
   - μ”μ²­ νμ‹±
   - DTO λ³€ν™
   β†“
3. [Service] (Core)
   - λΉ„μ¦λ‹μ¤ λ΅μ§ μ‹¤ν–‰
   - Port μΈν„°νμ΄μ¤ νΈμ¶
   β†“
4. [Repository] (Outbound Adapter)
   - DB μΏΌλ¦¬ μ‹¤ν–‰
   - μ™Έλ¶€ API νΈμ¶
   - μΊμ‹ μ΅°ν
   β†“
5. [Service] (Core)
   - κ²°κ³Ό κ°€κ³µ
   - λΉ„μ¦λ‹μ¤ κ·μΉ™ μ μ©
   β†“
6. [HTTP Handler] (Inbound Adapter)
   - μ‘λ‹µ DTO λ³€ν™
   - JSON μ‘λ‹µ μƒμ„±
   β†“
7. HTTP Response
```

## π“ νμΌ λ…λ… κ·μΉ™

### Go νμΌλ…
- **μ†λ¬Έμ + μ–Έλ”μ¤μ½”μ–΄**: `user_service.go`, `http_handler.go`
- **ν…μ¤νΈ νμΌ**: `{νμΌλ…}_test.go`
- **μΈν„°νμ΄μ¤ νμΌ**: `port.go`, `interface.go`

### λ””λ ‰ν† λ¦¬λ…
- **μ†λ¬Έμ λ‹¨μν•**: `service`, `handler`, `domain`
- **λ³µμν•μ€ μ»¬λ ‰μ…μΌ λ•λ§**: `scripts`, `docs`

### ν¨ν‚¤μ§€λ…
- λ””λ ‰ν† λ¦¬λ…κ³Ό λ™μΌ
- κ°„κ²°ν•κ³  λ…ν™•ν•κ²

## π§ ν…μ¤νΈ κµ¬μ΅°

```
ν…μ¤νΈ λ λ²¨λ³„ μ„μΉ:

1. Unit Test (λ‹¨μ„ ν…μ¤νΈ)
   - μ„μΉ: κ° νμΌκ³Ό λ™μΌν• λ””λ ‰ν† λ¦¬
   - νμΌλ…: *_test.go
   - μ: internal/core/service/service_test.go

2. Integration Test (ν†µν•© ν…μ¤νΈ)
   - μ„μΉ: test/integration/
   - μ—¬λ¬ μ»΄ν¬λ„νΈ κ°„ μƒνΈμ‘μ© ν…μ¤νΈ

3. E2E Test (μΆ…λ‹¨ κ°„ ν…μ¤νΈ)
   - μ„μΉ: test/e2e/
   - μ „μ²΄ μ‹μ¤ν… νλ¦„ ν…μ¤νΈ
```

## π€ λΉλ“ κ²°κ³Όλ¬Ό

```
build/
β””β”€β”€ api-bridge.exe    # μ‹¤ν–‰ νμΌ (Windows)
β””β”€β”€ api-bridge        # μ‹¤ν–‰ νμΌ (Linux/Mac)
```

## π“ μ„¤μ • νμΌ μ°μ„ μμ„

```
1. ν™κ²½ λ³€μ (μµμ°μ„ )
2. config/config.yaml (λ΅μ»¬ μ„¤μ •)
3. config/config.example.yaml (κΈ°λ³Έκ°’)
```

## π”’ λ³΄μ• μ£Όμμ‚¬ν•­

### Gitμ—μ„ μ μ™Έν•΄μ•Ό ν•  νμΌ
- `config/config.yaml` (μ‹¤μ  μ„¤μ • νμΌ)
- `.env` (ν™κ²½ λ³€μ)
- `*.log` (λ΅κ·Έ νμΌ)
- `bin/`, `tmp/` (λΉλ“ μ‚°μ¶λ¬Ό)

### λ―Όκ° μ •λ³΄ κ΄€λ¦¬
- λΉ„λ°€λ²νΈ, API ν‚¤λ” ν™κ²½ λ³€μλ΅ κ΄€λ¦¬
- μ„¤μ • νμΌμ—λ” μμ‹ κ°’λ§ ν¬ν•¨
- ν”„λ΅λ•μ… μ„¤μ •μ€ λ³„λ„ κ΄€λ¦¬

## π“ λ‹¤μ λ‹¨κ³„

1. **κµ¬ν„ μ‹μ‘**: [IMPLEMENTATION_GUIDE.md](./IMPLEMENTATION_GUIDE.md) μ°Έκ³ 
2. **λ°°ν¬ μ¤€λΉ„**: [DEPLOYMENT_GUIDE.md](./DEPLOYMENT_GUIDE.md) μ°Έκ³ 
3. **μ•„ν‚¤ν…μ² ν•™μµ**: [HEXAGONAL_ARCHITECTURE.md](./HEXAGONAL_ARCHITECTURE.md) μ°Έκ³ 

---

**μ‘μ„±μΌ**: 2025-10-13  
**λ²„μ „**: 1.0  
**μ—…λ°μ΄νΈ**: ν”„λ΅μ νΈ μ΄κΈ° κµ¬μ΅° μ™„μ„±

